{% extends 'base.html'%}

{% load static %}

{% block title %}
| Latest Posts
{% endblock%}

{% block content%}
<div class="container-fluid blog">
	<div class="row">
		<div class="col-md-7 mx-auto">
			<main class="py-3">
				<h1 class="mb-3">Blog Digital Marketing</h1>
 			
	  			<div class="row"> 
					{% if posts %}
					{% for post in posts %}	
					<div class="col-md-4">
				
						<div class="card border-0 bg-transparent">
							<a href="{%url 'post-detail' post.id %}">
								<img src="{{post.image.url}}" class="card-img-top">
							</a>
							<div class="card-body px-0">
								<h5 class="card-title"><a href="{%url 'post-detail' post.id %}" class="text-dark text-decoration-none">{{post.title}}</a></h5>
								<p>{{post.excerpt}}</p>
							</div>
						</div>
				
					</div><!-- col-md-4 -->
					{% endfor %}
					{% else %}
				</div><!-- row -->
	
      <div class="col-md-12">
        <p>No posts Available</p>
      </div>
      {% endif %}
    </div>
{% if is_paginated %}

{% if page_obj.has_previous %}

<a class="btn btn-outline-primary mb-4" href="?page=1">First</a>
<a class="btn btn-outline-primary mb-4" href="?page={{ page_obj.previous_page_number }}">Previous</a>
{% endif %}

{% for num in page_obj.paginator.page_range %}
{% if page_obj.number == num %}
<a class="btn btn-primary mb-4" href="?page={{ num }}">{{ num }}</a>
{% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
<a class="btn btn-outline-primary mb-4" href="?page={{ num }}">{{ num }}</a>
{% endif %}
{% endfor %}

{% if page_obj.has_next %}
<a class="btn btn-outline-primary mb-4" href="?page={{ page_obj.next_page_number }}">Next</a>
<a class="btn btn-outline-primary mb-4" href="?page={{ page_obj.paginator.num_pages }}">Last</a>
{% endif %}

{% endif %}


			</main>
		</div>
	</div>
</div><!-- blog -->

{% endblock %}
